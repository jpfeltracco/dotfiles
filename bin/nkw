#!/bin/sh

# kitty new window

# echo $kak_client_env_X

# execute command, then return to current shell regardless of command exit code
#cmd="echo $kak_client_env_KITTY_WINDOW_ID; $@; kitty @ focus-window --match id:$KITTY_WINDOW_ID"
ag="$@"
echo $ag
cmd="echo $KITTY_WINDOW_ID;$ag; kitty @ focus-window --match id:$KITTY_WINDOW_ID"


# files=("echo $KITTY_WINDOW_ID;" "$@" "; kitty @ focus-window --match id:$KITTY_WINDOW_ID")
# args "${files[@]}"

#echo $cmd

#args $cmd

kitty @ new-window --no-response sh -c "$cmd"
# kitty @ goto-layout stack
#kitty @ new-window --no-response sh -c "$cmd"
